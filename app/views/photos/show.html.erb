<div class="container-fluid bg-dark text-white min-vh-100">
  <nav class="navbar navbar-dark bg-dark border-bottom">
    <div class="container-fluid">
      <div class="navbar-nav me-auto">
        <%= link_to "← Back to #{@gallery.title}", @gallery, class: "btn btn-outline-light btn-sm" %>
      </div>

      <div class="navbar-text">
        Photo <%= @photo.id %> of <%= @gallery.photos.count %>
      </div>

      <div class="navbar-nav">
        <div class="btn-group">
          <% if @photo.previous_photo %>
            <%= link_to "← Previous", gallery_photo_path(@gallery, @photo.previous_photo), class: "btn btn-outline-light btn-sm" %>
          <% end %>
          <% if @photo.next_photo %>
            <%= link_to "Next →", gallery_photo_path(@gallery, @photo.next_photo), class: "btn btn-outline-light btn-sm" %>
          <% end %>
        </div>
      </div>
    </div>
  </nav>

  <div class="d-flex align-items-center justify-content-center" style="min-height: calc(100vh - 60px);">
    <div class="text-center">
      <% if @photo.image.attached? %>
        <%= image_tag url_for(@photo.display_image), class: "img-fluid rounded shadow-lg", style: "max-height: 85vh; max-width: 95vw;" %>
      <% else %>
        <div class="alert alert-warning">
          Image not available
        </div>
      <% end %>

      <div class="mt-3 text-muted">
        <small>From "<%= @gallery.title %>" by <%= @gallery.user.first_name %> <%= @gallery.user.last_name %></small>
      </div>

      <% if current_user == @gallery.user %>
        <div class="mt-3">
          <div class="btn-group">
            <%= link_to "Edit Photo", edit_gallery_photo_path(@gallery, @photo), class: "btn btn-outline-light btn-sm" %>
            <%= link_to "Delete Photo", gallery_photo_path(@gallery, @photo), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-outline-danger btn-sm" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
